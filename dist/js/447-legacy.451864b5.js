"use strict";(self["webpackChunkshangpinhui"]=self["webpackChunkshangpinhui"]||[]).push([[447],{1447:function(a,t,s){s.r(t),s.d(t,{default:function(){return g}});var r=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",[s("TypeNav"),s("div",{staticClass:"main"},[s("div",{staticClass:"py-container"},[s("div",{staticClass:"bread"},[a._m(0),s("ul",{staticClass:"fl sui-tag"},[a.searchParams.categoryName?s("li",{staticClass:"with-x"},[a._v(a._s(a.searchParams.categoryName)),s("i",{on:{click:a.removeCategoryName}},[a._v("×")])]):a._e(),a.searchParams.keyword?s("li",{staticClass:"with-x"},[a._v(a._s(a.searchParams.keyword)),s("i",{on:{click:a.removeKeyword}},[a._v("×")])]):a._e(),a.searchParams.trademark?s("li",{staticClass:"with-x"},[a._v(a._s(a.searchParams.trademark.split(":")[1])),s("i",{on:{click:a.removeTrademark}},[a._v("×")])]):a._e(),a._l(a.searchParams.props,(function(t,r){return s("li",{key:t,staticClass:"with-x"},[a._v(a._s(t.split(":")[1])),s("i",{on:{click:function(t){return a.removeProps(r)}}},[a._v("×")])])}))],2)]),s("SearchSelector",{on:{tradeMarkInfo:a.tradeMarkInfo,attrInfo:a.attrInfo}}),s("div",{staticClass:"details clearfix"},[s("div",{staticClass:"sui-navbar"},[s("div",{staticClass:"navbar-inner filter"},[s("ul",{staticClass:"sui-nav"},[s("li",{class:{active:"1"===a.orderType},on:{click:function(t){return a.sortType(1)}}},[s("a",{attrs:{href:"javascript:"}},[a._v(" 综合"),s("i",{directives:[{name:"show",rawName:"v-show",value:"1"===a.orderType,expression:"orderType === '1'"}],class:["iconfont",{"icon-arrow-up":"asc"===a.orderSort},{"icon-arrow-down":"desc"===a.orderSort}]})])]),s("li",{class:{active:"2"===a.orderType},on:{click:function(t){return a.sortType(2)}}},[s("a",{attrs:{href:"javascript:"}},[a._v(" 价格"),s("i",{directives:[{name:"show",rawName:"v-show",value:"2"===a.orderType,expression:"orderType === '2'"}],class:["iconfont",{"icon-arrow-up":"asc"===a.orderSort},{"icon-arrow-down":"desc"===a.orderSort}]})])])])])]),s("div",{staticClass:"goods-list"},[s("ul",{staticClass:"yui3-g"},a._l(a.goodsList,(function(t){return s("li",{key:t.id,staticClass:"yui3-u-1-5"},[s("div",{staticClass:"list-wrap"},[s("div",{staticClass:"p-img"},[s("router-link",{attrs:{to:"/detail/"+t.id}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.defaultImg,expression:"goods.defaultImg"}],attrs:{alt:"产品图"}})])],1),s("div",{staticClass:"price"},[s("strong",[s("em",[a._v("¥")]),s("i",[a._v(a._s(t.price)+".00")])])]),s("div",{staticClass:"attr"},[s("a",{attrs:{target:"_blank",href:"#",title:t.title},domProps:{innerHTML:a._s(t.title)}})]),a._m(1,!0),a._m(2,!0)])])})),0)]),s("BasePagination",{attrs:{"page-no":a.searchParams.pageNo,"page-size":a.searchParams.pageSize,total:a.total,continues:5},on:{getPageNo:a.getPageNo}})],1)],1)])],1)},e=[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ul",{staticClass:"fl sui-breadcrumb"},[s("li",[s("a",{attrs:{href:"#"}},[a._v("全部结果")])])])},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"commit"},[s("i",{staticClass:"command"},[a._v("已有"),s("span",[a._v("2000")]),a._v("人评价")])])},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"operate"},[s("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"#",target:"_blank"}},[a._v("加入购物车")]),s("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[a._v("收藏")])])}],i=s(4367),c=(s(4916),s(3123),s(561),s(2222),s(6699),s(2023),function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"clearfix selector"},[s("div",{staticClass:"type-wrap logo"},[s("div",{staticClass:"fl key brand"},[a._v("品牌")]),s("div",{staticClass:"value logos"},[s("ul",{staticClass:"logo-list",on:{click:a.selectBrand}},a._l(a.trademarkList,(function(t){return s("li",{key:t.tmId,attrs:{"data-trademark":JSON.stringify(t)}},[a._v(" "+a._s(t.tmName)+" ")])})),0)]),a._m(0)]),a._l(a.attrsList,(function(t){return s("div",{key:t.attrId,staticClass:"type-wrap"},[s("div",{staticClass:"fl key"},[a._v(a._s(t.attrName))]),s("div",{staticClass:"fl value"},[s("ul",{staticClass:"type-list"},a._l(t.attrValueList,(function(r,e){return s("li",{key:e,on:{click:function(s){return a.selectAttr(t,r)}}},[s("a",[a._v(a._s(r))])])})),0)]),s("div",{staticClass:"fl ext"})])}))],2)}),o=[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"ext"},[s("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[a._v("多选")]),s("a",{attrs:{href:"javascript:void(0);"}},[a._v("更多")])])}],n=s(4665),l={name:"SearchSelector",computed:(0,i.Z)({},(0,n.Se)("search",["trademarkList","attrsList"])),methods:{selectBrand:function(a){var t=a.target.dataset.trademark;t=JSON.parse(t),this.$emit("tradeMarkInfo",t)},selectAttr:function(a,t){this.$emit("attrInfo",a,t)}}},h=l,d=s(1001),m=(0,d.Z)(h,c,o,!1,null,"f12ecec8",null),u=m.exports,v={name:"TheSearch",components:{SearchSelector:u},data:function(){return{searchParams:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:10,props:[],trademark:""}}},computed:(0,i.Z)((0,i.Z)({},(0,n.Se)("search",["total","attrsList","goodsList","trademarkList"])),{},{orderType:function(){return this.searchParams.order.split(":")[0]},orderSort:function(){return this.searchParams.order.split(":")[1]}}),mounted:function(){var a=this.$route,t=a.query,s=a.params;Object.assign(this.searchParams,t,s),console.log("this.searchParams:",this.searchParams),this.getSearchInfo(this.searchParams),Object.assign(this.searchParams,{category1Id:"",category2Id:"",category3Id:""})},watch:{$route:function(a){var t=a.query,s=a.params;Object.assign(this.searchParams,t,s),this.getSearchInfo(this.searchParams),Object.assign(this.searchParams,{category1Id:"",category2Id:"",category3Id:""})}},methods:(0,i.Z)((0,i.Z)({},(0,n.nv)("search",["getSearchInfo"])),{},{removeCategoryName:function(){Object.assign(this.searchParams,{categoryName:void 0,category1Id:void 0,category2Id:void 0,category3Id:void 0}),this.getSearchInfo(this.searchParams);var a=this.$route.params;a&&this.$router.push({name:"search",params:a})},removeKeyword:function(){Object.assign(this.searchParams,{keyword:void 0}),this.$bus.$emit("updateKeyword",""),this.getSearchInfo(this.searchParams);var a=this.$route.query;a&&this.$router.push({name:"search",query:a})},removeTrademark:function(){Object.assign(this.searchParams,{trademark:void 0}),this.getSearchInfo(this.searchParams)},removeProps:function(a){this.searchParams.props.splice(a,1),this.getSearchInfo(this.searchParams)},tradeMarkInfo:function(a){this.searchParams.trademark="".concat(a.tmId,":").concat(a.tmName),this.getSearchInfo(this.searchParams)},attrInfo:function(a,t){var s=a.attrId,r=a.attrName,e="".concat(s,":").concat(t,":").concat(r);this.searchParams.props.includes(e)||(this.searchParams.props.push(e),this.getSearchInfo(this.searchParams))},sortType:function(a){var t=1===a?1:2,s="desc"===this.searchParams.order.split(":")[1]?"asc":"desc";this.searchParams.order="".concat(t,":").concat(s),this.getSearchInfo(this.searchParams)},getPageNo:function(a){this.searchParams.pageNo=a,this.getSearchInfo(this.searchParams)}})},f=v,p=(0,d.Z)(f,r,e,!1,null,"46243e58",null),g=p.exports}}]);